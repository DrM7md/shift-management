import{j as e,H as I}from"./app-Cwhk-y-Q.js";import{P as C,W as z,M as W,A as t}from"./MainLayout-DG_h4u18.js";import{f as b}from"./dateFormat-TyM5950g.js";import{C as H,W as T}from"./Warning-BabsieMG.js";import{b as m,C as c,d as o,B as n,T as r,P as w}from"./Schedule-DiIcUQZb.js";import{G as a}from"./Grid-ClWOtsL_.js";import{C as v}from"./Chip-DMEJQ661.js";import{A}from"./Alert-BPajDfgF.js";import{T as V,a as _,b as M,c as h,d as l,e as L}from"./TableRow-UwqfMSIv.js";const P=m(e.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})),k=m(e.jsx("path",{d:"M17 12c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5m1.65 7.35L16.5 17.2V14h1v2.79l1.85 1.85zM18 3h-3.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H6c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h6.11c-.59-.57-1.07-1.25-1.42-2H6V5h2v3h8V5h2v5.08c.71.1 1.38.31 2 .6V5c0-1.1-.9-2-2-2m-6 2c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"})),j=m(e.jsx("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V8h14zM7 10h5v5H7z"})),y={مجدول:"info",أتم:"success",غائب:"error",بديل:"warning"};function J({stats:d,todayShift:i,nextSaturdayEmployee:x,expiringBalances:p,recentShifts:g}){const f=[{title:"إجمالي الموظفين",value:d.totalEmployees,icon:e.jsx(C,{}),color:"#6366f1"},{title:"متاحين",value:d.availableEmployees,icon:e.jsx(H,{}),color:"#10b981"},{title:"أرصدة متاحة",value:d.availableBalances,icon:e.jsx(z,{}),color:"#f59e0b"},{title:"طلبات معلقة",value:d.pendingRequests,icon:e.jsx(k,{}),color:"#ef4444"}];return e.jsxs(W,{title:"لوحة التحكم",children:[e.jsx(I,{title:"لوحة التحكم"}),e.jsxs(a,{container:!0,spacing:3,children:[f.map((s,u)=>e.jsx(a,{size:{xs:12,sm:6,md:3},children:e.jsx(c,{sx:{transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-4px)",boxShadow:6}},children:e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(t,{sx:{bgcolor:s.color,width:56,height:56,background:`linear-gradient(135deg, ${s.color} 0%, ${s.color}dd 100%)`},children:s.icon}),e.jsxs(n,{children:[e.jsx(r,{variant:"h4",fontWeight:700,children:s.value}),e.jsx(r,{variant:"body2",color:"text.secondary",children:s.title})]})]})})},u)),e.jsx(a,{size:12,children:e.jsx(c,{sx:{border:"1px solid",borderColor:"primary.main",background:s=>s.palette.mode==="dark"?"linear-gradient(135deg, rgba(30, 41, 59, 1) 0%, rgba(15, 23, 42, 1) 100%)":"linear-gradient(135deg, rgba(255, 255, 255, 1) 0%, rgba(248, 250, 252, 1) 100%)"},children:e.jsxs(o,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(j,{color:"primary"}),e.jsx(r,{variant:"h6",fontWeight:600,children:"مناوبة اليوم"})]}),i?e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:3},children:[e.jsx(t,{sx:{width:60,height:60,bgcolor:"primary.main",fontSize:"1.5rem",fontWeight:700},children:i.employee?.name.charAt(0)}),e.jsxs(n,{children:[e.jsx(r,{variant:"h5",fontWeight:600,children:i.employee?.name}),e.jsxs(r,{color:"text.secondary",children:[i.day_name," - من ",i.start_time," إلى ",i.end_time]})]}),e.jsx(v,{label:i.status,color:y[i.status],sx:{mr:"auto"}})]}):e.jsxs(n,{sx:{textAlign:"center",py:3},children:[e.jsx(j,{sx:{fontSize:48,color:"text.disabled",mb:1}}),e.jsx(r,{color:"text.secondary",children:"لا توجد مناوبة مجدولة لهذا اليوم"})]})]})})}),e.jsx(a,{size:{xs:12,md:6},children:e.jsx(c,{children:e.jsxs(o,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(P,{color:"primary"}),e.jsx(r,{variant:"h6",fontWeight:600,children:"القادم في دورة السبت"})]}),x?e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(t,{sx:{bgcolor:"primary.main"},children:x.name.charAt(0)}),e.jsxs(n,{children:[e.jsx(r,{fontWeight:600,children:x.name}),e.jsxs(r,{variant:"body2",color:"text.secondary",children:["ترتيب السبت: ",x.saturday_order]})]})]}):e.jsx(r,{color:"text.secondary",children:"لا يوجد موظفين متاحين"})]})})}),e.jsx(a,{size:{xs:12,md:6},children:e.jsx(c,{children:e.jsxs(o,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(T,{color:"warning"}),e.jsx(r,{variant:"h6",fontWeight:600,children:"أرصدة قريبة من الانتهاء"})]}),p.length>0?e.jsx(n,{sx:{display:"flex",flexDirection:"column",gap:1},children:p.slice(0,3).map(s=>e.jsx(A,{severity:"warning",sx:{py:0},children:e.jsxs(r,{variant:"body2",children:[s.employee?.name," - ينتهي في ",b(s.expiry_date)]})},s.id))}):e.jsx(r,{color:"text.secondary",children:"لا توجد أرصدة قريبة من الانتهاء"})]})})}),e.jsx(a,{size:12,children:e.jsx(c,{children:e.jsxs(o,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[e.jsx(j,{color:"primary"}),e.jsx(r,{variant:"h6",fontWeight:600,children:"آخر المناوبات"})]}),e.jsx(V,{component:w,elevation:0,children:e.jsxs(_,{children:[e.jsx(M,{children:e.jsxs(h,{children:[e.jsx(l,{children:"التاريخ"}),e.jsx(l,{children:"اليوم"}),e.jsx(l,{children:"الموظف"}),e.jsx(l,{children:"الحالة"})]})}),e.jsxs(L,{children:[g.map(s=>e.jsxs(h,{hover:!0,children:[e.jsx(l,{children:b(s.shift_date)}),e.jsx(l,{children:s.day_name}),e.jsx(l,{children:s.employee?.name}),e.jsx(l,{children:e.jsx(v,{label:s.status,color:y[s.status],size:"small"})})]},s.id)),g.length===0&&e.jsx(h,{children:e.jsx(l,{colSpan:4,align:"center",children:e.jsx(r,{color:"text.secondary",children:"لا توجد مناوبات"})})})]})]})})]})})})]})]})}export{J as default};
